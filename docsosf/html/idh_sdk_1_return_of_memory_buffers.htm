<HTML>
<HEAD>
 <TITLE>Return of Memory Buffers</TITLE>
 <meta name="copyright" value="©2001, Force Computers, Inc.">
 <META NAME="generator" CONTENT="RoboHELP by eHelp Corporation www.ehelp.com">
 <script language="javascript" title="WebHelpInlineScript">
<!--
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) >= 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
//-->
 </script>
 <style>
<!--
  div.WebHelpPopupMenu {position:absolute; left:0px; top:0px; z-index:4; visibility:hidden;}
  p.WebHelpNavBar {text-align:right;}
-->
 </style>
 <SCRIPT language="JavaScript">
<!--
 onerror = null; 
//-->
 </SCRIPT>
 <SCRIPT language="JavaScript" src="ehlpdht1.js" title="WebHelpEhlpDhtmExtJs" name="EHELP_DHTM">
 </SCRIPT>
 <SCRIPT language="JavaScript1.2" src="ehlpdht2.js" title="WebHelpEhlpDhtmExtJs" name="EHELP_DHTM">
 </SCRIPT>
</HEAD>
<BODY style="font-family:'Arial'; font-size:9pt;  background-color:white;" bgcolor="white">
 <SCRIPT language="JavaScript" title="WebHelpNavBar">
<!--
gbstrRelHomePageURL="";
if (parseInt(navigator.appVersion) >=3  && window.name.indexOf("BSSCPopup") == -1)
{
var strNvHome=""; var strNvBrowse=""; var strNvWebSearch="";
strNvBrowse="<a href='tts_caps_t_structure_ttsapi_h.htm'><img src='bsscnav4.gif' width=27 height=19 border=no></a><a href='idh_sdk_1_dictionary_functions_unix_only.htm'><img src='bsscnav5.gif' width=27 height=19 border=no></a>"
if ((strNvHome.length != 0) || (strNvBrowse.length != 0) || (strNvWebSearch.length != 0)) {
  document.write("<p id='NavBar' align='right' class=WebHelpNavBar><nobr><font size=1>");
  if (strNvHome.length != 0) document.write(strNvHome);
  if (strNvBrowse.length != 0) document.write(strNvBrowse);
  if (strNvWebSearch.length != 0) document.write(strNvWebSearch);
  document.write("</font>&nbsp;&nbsp;&nbsp;</nobr></p>");
  }
}
//-->
 </SCRIPT>
 <H1 align="left"  style="font-size:12pt;margin-right:6.50pt;margin-top:4.00pt;margin-bottom:6.00pt;text-align:left;" ><B><FONT size=2  style="font-family:'Arial'; font-size:10pt; font-weight:bold; " >Return of Memory Buffers</FONT></B></H1>
 <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >When the memory buffer is completed, the memory buffer is returned to the calling application. A memory buffer is considered completed when any one of the following occur:</FONT></P>
 <P align="left"  style="margin-left:18.00pt;margin-top:3.00pt;margin-bottom:3.00pt;text-indent:-18.00pt;text-align:left;" ><FONT size=3  style="font-family:'Symbol'; font-size:11pt; " >·</FONT><span style="font-size:8pt; font-family='Times New Roman'; letter-spacing=0pt; font-weight=normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >The memory buffer, which is pointed to by the lpData field, is filled.</FONT></P>
 <P align="left"  style="margin-left:18.00pt;margin-top:3.00pt;margin-bottom:3.00pt;text-indent:-18.00pt;text-align:left;" ><FONT size=3  style="font-family:'Symbol'; font-size:11pt; " >·</FONT><span style="font-size:8pt; font-family='Times New Roman'; letter-spacing=0pt; font-weight=normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >The phoneme array is filled. </FONT></P>
 <P align="left"  style="margin-left:33.85pt;margin-top:3.00pt;margin-bottom:3.00pt;text-indent:-15.85pt;text-align:left;" ><A href="idh_ref_3_phonemic_symbols.htm"><IMG SRC="btn_mini.gif" border=0 height=14 width=14 alt="btn_mini.gif"></A><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >  Click </FONT><A href="idh_ref_3_phonemic_symbols.htm"><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >here</FONT></A><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " > to go to the help on Phonemic Symbols for more information on the phoneme codes.</FONT></P>
 <P align="left"  style="margin-left:18.00pt;margin-top:3.00pt;margin-bottom:3.00pt;text-indent:-18.00pt;text-align:left;" ><FONT size=3  style="font-family:'Symbol'; font-size:11pt; " >·</FONT><span style="font-size:8pt; font-family='Times New Roman'; letter-spacing=0pt; font-weight=normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >The index mark array is filled. </FONT></P>
 <P align="left"  style="margin-left:33.85pt;margin-top:3.00pt;margin-bottom:3.00pt;text-indent:-15.85pt;text-align:left;" ><A href="idh_ref_2_index_marks_for_speech_status.htm"><IMG SRC="btn_mini.gif" border=0 height=14 width=14 alt="btn_mini.gif"></A><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >  Click </FONT><A href="idh_ref_2_index_marks_for_speech_status.htm"><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >here</FONT></A><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " > to go to the Index Mark for Speech Status help for more information on using index marks.</FONT></P>
 <P align="left"  style="margin-left:18.00pt;margin-top:3.00pt;margin-bottom:3.00pt;text-indent:-18.00pt;text-align:left;" ><FONT size=3  style="font-family:'Symbol'; font-size:11pt; " >·</FONT><span style="font-size:8pt; font-family='Times New Roman'; letter-spacing=0pt; font-weight=normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >A TTS_FORCE argument is used in the call to TextToSpeechSpeak.</FONT></P>
 <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >The application must not modify any buffer passed to the text-to-speech system by the TextToSpeechAddBuffer call until the buffer is returned from the text-to-speech system to the calling application. The application then owns the buffer. If no buffers are available, the system blocks. If the application is processing relatively long passages of text, it is recommended that the application queues several buffers and then requeues each buffer after finishing with it so that the system is not idle.</FONT></P>
 <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >A call to TextToSpeechReset returns all buffers to the application. The TextToSpeechReturnBuffer call is supplied to force the return of the current memory buffer, whether it is filled or not. This call might not be required by most applications. It is includes so an application can obtain the last buffer without forcing that buffer to be sent with the TTS_FORCE command in the TextToSpeechSpeak call. This might be required if the application performs its own buffer management.</FONT></P>
 <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >When the memory buffer, a </FONT><A href="idh_sdk_1_tts_buffer_t_structure_ttsapi_h.htm"><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >TTS_BUFFER_T</FONT></A><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " > structure, is returned to the calling application, it contains the following return values:</FONT></P>
 <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><I><FONT size=2 color=black  style="font-family:'Helvetica'; font-size:10pt; color:black; font-style:italic; " >Memory Buffer Return Values</FONT></I></P>
 <TABLE width="432" cellspacing='0' cellpadding="1">
  <TR valign=top>
  <TD width="47.22%">
  <P align="left"  style="margin-right:7.20pt;margin-top:2.05pt;margin-bottom:3.95pt;text-align:left;line-height:11.05pt;" ><B><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; font-weight:bold; " >Parameter</FONT></B></P></TD>
  <TD width="52.78%">
  <P align="left"  style="margin-right:7.20pt;margin-top:2.05pt;margin-bottom:3.95pt;text-align:left;line-height:11.05pt;" ><B><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; font-weight:bold; " >Value</FONT></B></P></TD></TR>
  <TR valign=top>
  <TD width="47.22%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >dwBufferLength</FONT></P></TD>
  <TD width="52.78%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >Number of bytes of audio samples.</FONT></P></TD></TR>
  <TR valign=top>
  <TD width="47.22%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >lpData</FONT></P></TD>
  <TD width="52.78%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >Pointer to the audio sample data.</FONT></P></TD></TR>
  <TR valign=top>
  <TD width="47.22%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >dwNumberOfPhonemeChanges</FONT></P></TD>
  <TD width="52.78%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >Number of phoneme changes.</FONT></P></TD></TR>
  <TR valign=top>
  <TD width="47.22%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >lpPhonemeArray</FONT></P></TD>
  <TD width="52.78%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >Pointer to the phoneme information.</FONT></P></TD></TR>
  <TR valign=top>
  <TD width="47.22%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >dwNumberOfIndexMarks</FONT></P></TD>
  <TD width="52.78%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >Number of index marks. </FONT></P></TD></TR>
  <TR valign=top>
  <TD width="47.22%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >lpIndexArray</FONT></P></TD>
  <TD width="52.78%">
  <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=1  style="font-family:'Helvetica'; font-size:9pt; " >Pointer to the index mark information.</FONT></P></TD></TR>
 </TABLE>
 <P align="left"  style="margin-left:5.75pt;margin-right:6.50pt;margin-top:0.00pt;margin-bottom:2.40pt;text-align:left;" >&nbsp;</P>
 <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;" ><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >The index and phoneme arrays each contain a time stamp in the form of a sample number. This sample number is initialized at zero at startup and after each call to TextToSpeechReset. The phoneme array also contains the current phoneme duration in frames. Each frame is approximately 6.4 milliseconds.</FONT></P>
 <P align="left"  style="margin-top:3.00pt;margin-bottom:3.00pt;text-align:left;border-top:0.75pt solid black;" ><A href="#" onClick="var e; if (parseInt(navigator.appVersion)>=4){e=event;}  if (parseInt(navigator.appVersion) >=2 && typeof(PopupMenu_Invoke) == 'function') PopupMenu_Invoke(e,'','Initialization of Memory Buffers','idh_sdk_1_initialization_of_memory_buffers.htm','TTS_BUFFER_T Structure (ttsapi.h)','idh_sdk_1_tts_buffer_t_structure_ttsapi_h.htm');return false;"><IMG SRC="btn_mini.gif" border=0 height=14 width=14 alt="btn_mini.gif"></A><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " >  </FONT><A href="#" onClick="var e; if (parseInt(navigator.appVersion)>=4){e=event;}  if (parseInt(navigator.appVersion) >=2 && typeof(PopupMenu_Invoke) == 'function') PopupMenu_Invoke(e,'','Initialization of Memory Buffers','idh_sdk_1_initialization_of_memory_buffers.htm','TTS_BUFFER_T Structure (ttsapi.h)','idh_sdk_1_tts_buffer_t_structure_ttsapi_h.htm');return false;"><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; color:black; text-decoration:none;" >Related topics</FONT></A><FONT size=2  style="font-family:'Helvetica'; font-size:10pt; " > </FONT></P>
 <script LANGUAGE="JavaScript" title="%s">
<!--
if (parseInt(navigator.appVersion) >= 3 && typeof (WritePopupMenuLayer) == "function")
	WritePopupMenuLayer();
//-->
 </script>
</BODY>
</HTML>